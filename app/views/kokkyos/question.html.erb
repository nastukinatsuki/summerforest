<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Quiz</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div>
      <h2 id="quiz-text"></h2>
      <div>
          <button id="choice-1"></button>
          <button id="choice-2"></button>
          <button id="choice-3"></button>
      </div>
      <div id="feedback"></div>
      <button id="next-quiz">次の問題へ</button>
    </div>
    <script>
    // 登場人物たち
    const quizText = document.getElementById("quiz-text")
    const quizImage = document.getElementById("quiz-image")
    const choice1 = document.getElementById("choice-1")
    const choice2 = document.getElementById("choice-2")
    const choice3 = document.getElementById("choice-3")
    const feedback = document.getElementById("feedback")
    const nextQuizButton = document.getElementById("next-quiz")
    // 裏方さんたち
    let quizNumber = 0
    const quizzes = [
      {
        text: "日本における「国際貢献」と「国際協力」の違いは？",
        choices: [
          {
            text: "国際貢献は地球全体への活動、国際協力は国家への活動を指す",
            isCorrect: false,
            feedback:
              "残念！地球全体を指すときは「グローバル」が使われるよ",
          },
          {
            text: "国際貢献は金銭的支援、国際協力は文化的支援を指す",
            isCorrect: false,
            feedback: "残念！金銭的な支援を指す言葉は経済協力だよ",
          },
          {
            text: "国際貢献は軍事的支援を含み、国際協力は含まない",
            isCorrect: true,
            feedback: "正解！具体的な活動領域として「ODA」、「国際文化交流」、「平和のための教育」",
          },
        ],
      },
      {
        text: "DACの定めた、発展途上国の「有利の基準」を表した指標は何という？",
        image: "Two.jpeg",
        choices: [
          {
            text: "グレイト・エスティメイト",
            isCorrect: false,
            feedback: "残念！グラント・エレメント、GE＝〇〇％というような値で示されるよ",
          },
          {
            text: "グラント・エレメント",
            isCorrect: true,
            feedback: "正解！金利・返済期間・返済猶予などの項目から算出されるよ",
          },
          {
            text: "グッド・アドバンテージ",
            isCorrect: false,
            feedback: "残念！グラント・エレメント、GE＝〇〇％というような値で示されるよ",
          },
        ],
      },
      {
        text: "グラント・エレメントが何％以上の活動がODAとして認められるか",
        image: "Maruoka.png",
        choices: [
          {
            text: "45%",
            isCorrect: true,
            feedback: "正解！例として、金利1.75%、返済期間15年、返済措置期間3年の場合のGEは45.2％だよ",
          },
          {
            text: "15%",
            isCorrect: true,
            feedback: "残念！下位中所得国へのODA条件がGE15%だよ",
          },
          {
            text: "100%",
            isCorrect: false,
            feedback: "残念！GE100%は金銭の贈与のみが該当するよ",
          },
        ],
      },
    ]
    // 共通の処理①
    // quizNumber番目の問題を画面に表示する
    const reloadQuiz = function (quizNumber) {
      // quizzes[quizNumber] は使いまわすので、定数に入れておく
      const quiz = quizzes[quizNumber]
      // 問題文を表示
      quizText.textContent = "Q." + quiz.text
      // 選択肢（ボタン）の中身を表示
      choice1.textContent = quiz.choices[0].text
      choice2.textContent = quiz.choices[1].text
      choice3.textContent = quiz.choices[2].text
      // フィードバックを削除
      feedback.textContent = ""
      // 次の問題ボタンを隠す
      nextQuizButton.classList.add("hidden")
    }
    // 共通の処理②
    // choiceNumber番目の選択肢を選択
    const choose = function (choiceNumber) {
      // quizzes[quizNumber].choices[choiceNumber] は使いまわすので、定数に入れておく
      const choice = quizzes[quizNumber].choices[choiceNumber]
      // フィードバックを表示
      feedback.textContent = choice.feedback
      // 正解ならば……
      if (choice.isCorrect) {
        if (quizNumber < quizzes.length - 1) {
          // 次の問題があれば、次の問題ボタンを表示
          nextQuizButton.classList.remove("hidden")
        } else {
          // 次の問題がなければ、結果を表示
        }
      }
    }
    choice1.onclick = function () {
      // 0番目の選択肢を選択
      choose(0)
    }
    choice2.onclick = function () {
      // 1番目の選択肢を選択
      choose(1)
    }
    choice3.onclick = function () {
      // 2番目の選択肢を選択
      choose(2)
    }
    // 次の問題ボタンを押したら
    nextQuizButton.onclick = function () {
      // 問題番号を１増やす
      quizNumber += 1
      // quizNumber番目の問題を読み込む
      reloadQuiz(quizNumber)
    }
    // 0番目のクイズを表示
    reloadQuiz(0)
</script>
  </body>
</html>